# C-napse

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                                                          ‚ïë
‚ïë   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó      ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïë
‚ïë  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù      ‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ïë
‚ïë  ‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ïë
‚ïë  ‚ñà‚ñà‚ïë     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ïë
‚ïë  ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó      ‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïë
‚ïë   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù      ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïë
‚ïë                                                          ‚ïë
‚ïë                     agents in sync                       ‚ïë
‚ïë                                                          ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

> **Small models. Fast signals.**

C-napse is a modular, agentic command-line interface that orchestrates a swarm of small, specialized AI agents to control and automate PC tasks.

## Features

- üè† **Local-first**: Run entirely on your machine with small, fast models
- ‚òÅÔ∏è **Cloud hybrid**: Optional fallback to Anthropic, OpenAI, or OpenRouter APIs
- üß† **Extended context**: PC memory (RAM/SQLite) as extended context window
- üì± **Mobile access**: Telegram bot integration for on-the-go control
- üåê **Web portal**: Self-hosted app launcher accessible from any device
- üîÑ **Phone sync**: Mirror Ollama + VS Code from your phone

## Quick Start

### Installation

**Unix/macOS:**
```bash
curl -fsSL https://raw.githubusercontent.com/yourusername/cnapse/main/scripts/install.sh | sh
```

**Windows (PowerShell):**
```powershell
irm https://raw.githubusercontent.com/yourusername/cnapse/main/scripts/install.ps1 | iex
```

### First Run

```bash
# Initialize configuration
cnapse init

# (Optional) Add API key for cloud fallback
cnapse auth add anthropic

# Start interactive mode
cnapse
```

## Usage

### Interactive REPL
```bash
cnapse
```

### Single Command
```bash
cnapse "list all python files in current directory"
cnapse "write a script to batch rename images"
cnapse "what's using port 8080?"
```

### With Provider Override
```bash
cnapse -p anthropic "complex refactoring task"
cnapse -p openrouter "generate comprehensive documentation"
```

### Web Server
```bash
cnapse serve
# Access at http://localhost:7777
```

### Telegram Bot
```bash
cnapse telegram setup
cnapse telegram start
```

## Architecture

C-napse uses a multi-agent architecture where specialized agents handle different types of tasks:

| Agent | Model | Purpose |
|-------|-------|---------|
| Router | Qwen2.5-0.5B | Intent classification and dispatch |
| Coder | Qwen2.5-Coder-1.5B | Code generation, editing, debugging |
| Shell | Qwen2.5-0.5B | Shell commands, system operations |
| Filer | Qwen2.5-0.5B | File operations, search, organization |
| Memory | Qwen2.5-0.5B | Context management, summarization |
| App | Qwen2.5-Coder-1.5B | Web app creation for launcher |

## Configuration

Configuration files are stored in `~/.cnapse/`:

```
~/.cnapse/
‚îú‚îÄ‚îÄ config.toml              # Main configuration
‚îú‚îÄ‚îÄ credentials.toml         # API keys (chmod 600)
‚îú‚îÄ‚îÄ apps/                    # User-created apps
‚îú‚îÄ‚îÄ models/                  # Local GGUF models
‚îú‚îÄ‚îÄ memory.db                # SQLite context store
‚îî‚îÄ‚îÄ logs/
```

## CLI Commands

```
cnapse [OPTIONS] [QUERY]

Commands:
  init        Initialize C-napse configuration
  config      View and modify settings
  auth        Manage API credentials
  models      Manage local AI models
  run         Execute a single command
  serve       Start the web server and API
  telegram    Manage Telegram bot
  app         Create and manage apps
  sync        Phone and VS Code sync

Options:
  -p, --provider <PROVIDER>  Override provider [local|anthropic|openai|openrouter]
  -a, --agent <AGENT>        Force specific agent
  -v, --verbose              Increase verbosity
  -o, --output <FORMAT>      Output format [text|json|markdown]
  -V, --version              Print version
  -h, --help                 Print help
```

## Building from Source

```bash
# Clone repository
git clone https://github.com/yourusername/cnapse.git
cd cnapse

# Build release
cargo build --release

# Run
./target/release/cnapse
```

## License

MIT License - see [LICENSE](LICENSE) for details.

## Contributing

Contributions are welcome! Please read our contributing guidelines before submitting PRs.
